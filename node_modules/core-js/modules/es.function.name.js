var DESCRIPTORS = require('../internals/descriptors');
var FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;
var uncurryThis = require('../internals/function-uncurry-this');
<<<<<<< HEAD
var defineProperty = require('../internals/object-define-property').f;
=======
var defineBuiltInAccessor = require('../internals/define-built-in-accessor');
>>>>>>> 4c765e0232b0a1ca709ef55fceea5ffd57218f73

var FunctionPrototype = Function.prototype;
var functionToString = uncurryThis(FunctionPrototype.toString);
var nameRE = /function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/;
var regExpExec = uncurryThis(nameRE.exec);
var NAME = 'name';

// Function instances `.name` property
// https://tc39.es/ecma262/#sec-function-instances-name
if (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {
<<<<<<< HEAD
  defineProperty(FunctionPrototype, NAME, {
=======
  defineBuiltInAccessor(FunctionPrototype, NAME, {
>>>>>>> 4c765e0232b0a1ca709ef55fceea5ffd57218f73
    configurable: true,
    get: function () {
      try {
        return regExpExec(nameRE, functionToString(this))[1];
      } catch (error) {
        return '';
      }
    }
  });
}
